<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTEEMO - Premium Video Platform</title>
    <meta name="description" content="VTEEMO - The ultimate premium video streaming platform with exclusive content">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="apple-touch-icon" href="/vite.svg" />
    
    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="VTEEMO - Premium Video Platform">
    <meta property="og:description" content="Watch exclusive premium videos on VTEEMO">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://vteemo.com">
    
    <!-- Security -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- PWA support -->
    <meta name="theme-color" content="#6A0DAD">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <style>
        * {
            box-sizing: border-box;
        }
        
        html, body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #111827;
            color: white;
            overflow-x: hidden;
        }
        
        /* Loading screen */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #6A0DAD 0%, #4B0082 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            color: white;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 30px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
        }
        
        .loading-subtitle {
            font-size: 16px;
            opacity: 0.9;
            text-align: center;
            animation: pulse 2s infinite;
        }
        
        .loading-debug {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-size: 12px;
            opacity: 0.7;
            font-family: monospace;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 0.5; }
        }
        
        /* Root container */
        #root {
            min-height: 100vh;
            width: 100%;
        }
        
        /* Fallback content */
        .fallback-content {
            display: none;
            min-height: 100vh;
            background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
            color: white;
            text-align: center;
            padding: 50px 20px;
        }
        
        .fallback-content.show {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .emergency-btn {
            background: #ef4444;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <noscript>
        <div style="min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; background: #1f2937; color: white; text-align: center; padding: 50px 20px;">
            <h1 style="color: #FFD700; font-size: 32px; margin-bottom: 20px;">‚ö†Ô∏è JavaScript Required</h1>
            <p style="font-size: 18px; margin-bottom: 10px;">VTEEMO requires JavaScript to function properly.</p>
            <p style="color: #FFD700; font-size: 16px;">ŸÑÿ∑ŸÅÿßŸã JavaScript ŸÖÿ±Ÿàÿ±⁄Øÿ± ÿÆŸàÿØ ÿ±ÿß ŸÅÿπÿßŸÑ ⁄©ŸÜ€åÿØ</p>
        </div>
    </noscript>
    
    <div id="loading-screen">
        <div class="loading-spinner"></div>
        <div class="loading-text">VTEEMO</div>
        <div class="loading-subtitle">Loading Premium Video Platform...</div>
        <div class="loading-debug" id="loading-debug">Initializing...</div>
    </div>
    
    <div id="root"></div>
    
    <div id="fallback-content" class="fallback-content">
        <h1 style="color: #FFD700; margin-bottom: 20px;">üö® VTEEMO Loading Issue</h1>
        <p>We're having trouble loading the main application.</p>
        <button class="emergency-btn" onclick="window.location.reload()">Reload Page</button>
        <button class="emergency-btn" onclick="localStorage.clear(); window.location.reload()">Clear Cache & Reload</button>
    </div>
    
    <script>
        console.log('üöÄ VTEEMO Platform Starting...');
        console.log('üìç URL:', window.location.href);
        console.log('üìÖ Time:', new Date().toISOString());
        console.log('üåê User Agent:', navigator.userAgent);
        
        // Debug element
        const debugEl = document.getElementById('loading-debug');
        const updateDebug = (msg) => {
            console.log('üìä ' + msg);
            if (debugEl) debugEl.textContent = msg;
        };
        
        updateDebug('Script loaded');
        
        let appLoaded = false;
        let loadingRemoved = false;
        
        // Remove loading screen
        function removeLoading() {
            if (loadingRemoved) return;
            loadingRemoved = true;
            
            const loading = document.getElementById('loading-screen');
            if (loading) {
                updateDebug('Removing loading screen...');
                loading.style.opacity = '0';
                loading.style.transition = 'opacity 1s ease';
                setTimeout(() => {
                    loading.remove();
                    console.log('‚úÖ VTEEMO Loaded Successfully!');
                }, 1000);
            }
        }
        
        // Show fallback content
        function showFallback() {
            updateDebug('Showing fallback content');
            const fallback = document.getElementById('fallback-content');
            const loading = document.getElementById('loading-screen');
            
            if (loading) loading.style.display = 'none';
            if (fallback) fallback.classList.add('show');
        }
        
        // Check if React app mounted
        function checkAppMounted() {
            const root = document.getElementById('root');
            if (root && root.children.length > 0) {
                updateDebug('React app mounted!');
                appLoaded = true;
                removeLoading();
                return true;
            }
            return false;
        }
        
        // Periodic check for app mount
        let checkCount = 0;
        const maxChecks = 40; // 20 seconds
        
        const mountChecker = setInterval(() => {
            checkCount++;
            updateDebug(`Checking mount... (${checkCount}/${maxChecks})`);
            
            if (checkAppMounted()) {
                clearInterval(mountChecker);
            } else if (checkCount >= maxChecks) {
                clearInterval(mountChecker);
                updateDebug('Mount timeout - showing fallback');
                showFallback();
            }
        }, 500);
        
        // Global error handlers
        window.addEventListener('error', function(e) {
            console.error('‚ùå Global Error:', e.error);
            console.error('üìç At:', e.filename, ':', e.lineno, ':', e.colno);
            updateDebug(`Error: ${e.error?.message || 'Unknown error'}`);
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            console.error('‚ùå Promise Rejection:', e.reason);
            updateDebug(`Promise Error: ${e.reason}`);
        });
        
        // DOM ready check
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                updateDebug('DOM ready');
            });
        } else {
            updateDebug('DOM already ready');
        }
        
        // Window load check  
        window.addEventListener('load', () => {
            updateDebug('Window loaded');
            setTimeout(() => {
                if (!appLoaded) {
                    updateDebug('App not loaded after window load');
                }
            }, 2000);
        });
        
        // Expose debugging functions
        window.VTEEMO_DEBUG = {
            checkMount: checkAppMounted,
            removeLoading: removeLoading,
            showFallback: showFallback,
            reload: () => window.location.reload(),
            clearCache: () => {
                localStorage.clear();
                sessionStorage.clear();
                window.location.reload();
            }
        };
        
        updateDebug('Debug functions ready');
    </script>
    
    <!-- Main React App Script -->
    <script type="module" src="/src/main.tsx"></script>
</body>
</html>