<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VTEEMO - Premium Video Platform</title>
  <meta name="description" content="VTEEMO - The ultimate premium video streaming platform" />
  <meta name="theme-color" content="#6A0DAD" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <style>
    :root { color-scheme: dark; }
    body { margin:0; font-family: Inter,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif; background:#111827; color:#fff; }
    #loading-screen { position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; background:linear-gradient(135deg,#6A0DAD,#4B0082); z-index:9999; }
    .loading-spinner { width:50px; height:50px; border:3px solid rgba(255,255,255,.25); border-top:3px solid #FFD700; border-radius:50%; animation:spin 1s linear infinite; margin-bottom:18px; }
    @keyframes spin { to { transform:rotate(360deg); } }
    .fade-out { opacity:0; transition:opacity .65s ease; }
  </style>
</head>
<body data-build-date="2025-10-02" data-app="vteemo">
  <noscript>
    <div style="background:#1f2937; min-height:100vh; color:#fff; display:flex; flex-direction:column; justify-content:center; align-items:center; font-family:Inter,system-ui,sans-serif; padding:40px;">
      <h1 style="margin:0 0 12px;">JavaScript لازم است</h1>
      <p style="margin:0; opacity:.85;">برای استفاده از پلتفرم VTEEMO لطفاً JavaScript را فعال کنید.</p>
    </div>
  </noscript>

  <div id="loading-screen" aria-label="Loading application">
    <div class="loading-spinner" role="progressbar" aria-valuetext="Loading"></div>
    <div style="font-size:24px;font-weight:600;margin-bottom:6px;letter-spacing:.5px;">VTEEMO</div>
    <div style="font-size:13px;opacity:.8;">Loading...</div>
  </div>

  <div id="root"></div>

  <script>window.__VTEEMO_LOAD_START = performance.now();</script>
  <script>
    window.addEventListener('error', function(ev){
      const root = document.getElementById('root');
      const loading = document.getElementById('loading-screen');
      if (loading) loading.classList.add('fade-out');
      if (root && !root.hasChildNodes()) {
        root.innerHTML = `
          <div style="font-family:Inter,system-ui,sans-serif;max-width:780px;margin:60px auto;padding:32px;line-height:1.6;">
            <h1 style="color:#FFD700;margin:0 0 12px;font-size:2rem;">خطا در بارگذاری برنامه</h1>
            <p style="margin:0 0 16px;font-size:1rem;opacity:.85;">بارگذاری رابط کاربری با خطا مواجه شد. لطفاً مجدداً تلاش کنید.</p>
            <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;">
              <button onclick="location.reload()" style="background:#FFD700;color:#222;border:none;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;">بارگذاری مجدد</button>
              <button onclick="localStorage.clear();sessionStorage.clear();location.reload();" style="background:#ef4444;color:#fff;border:none;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;">پاکسازی کش و تلاش دوباره</button>
            </div>
            <details style="margin-top:26px;font-size:.8rem;opacity:.7;">
              <summary style="cursor:pointer;font-weight:600;">جزئیات فنی</summary>
              <pre style="background:#1f2937;padding:14px;border-radius:6px;margin-top:10px;overflow:auto;white-space:pre-wrap;font-family:monospace;">${(ev.error && ev.error.stack) || ev.message || 'No stack trace'}</pre>
            </details>
          </div>`;
      }
    });
  </script>
  <script type="module" src="/src/main.tsx"></script>
  <script>
    setTimeout(()=>{
      const ls = document.getElementById('loading-screen');
      if (ls && !document.getElementById('root').children.length){
        ls.classList.add('fade-out');
        setTimeout(()=> ls && ls.remove(), 900);
      }
    }, 15000);
  </script>
</body>
</html>
